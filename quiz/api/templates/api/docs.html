{% extends "base.html" %}

{% block content%}
    <div style="padding-top: 60x; padding-left: 40px;" >
    <div class="flex w-full flex-col gap-1 empty:hidden first:pt-[3px]"><div class="markdown prose w-full break-words dark:prose-invert light"><h1>API Documentation</h1><p>This API provides endpoints for retrieving and adding quiz data associated with specific users. The API is designed to handle user-specific queries and data submissions using Django's views and URL routing. Below is a detailed overview of the available endpoints, their purposes, and how to interact with them.</p><h2>Endpoints</h2><h3>1. Retrieve All Quiz Data</h3><p><strong>Endpoint:</strong> <code>/</code></p><p><strong>Method:</strong> <code>GET</code></p><p><strong>View:</strong> <code>get_data</code></p><p><strong>Description:</strong> This endpoint retrieves all quiz data from the database. It does not filter the data by any specific user.</p><p><strong>Response Example:</strong></p><pre><div class="dark bg-gray-950 rounded-md border-[0.5px] border-token-border-medium"><div class="flex items-center relative text-token-text-secondary bg-token-main-surface-secondary px-4 py-2 text-xs font-sans justify-between rounded-t-md"><span>json</span><div class="flex items-center"><span class="" data-state="closed"></span></div></div><div class="overflow-y-auto p-4" dir="ltr"><code class="!whitespace-pre hljs language-json"><span class="hljs-punctuation">[</span>
        <span class="hljs-punctuation">{</span>
            <span class="hljs-attr">"id"</span><span class="hljs-punctuation">:</span> <span class="hljs-number">13</span><span class="hljs-punctuation">,</span>
            <span class="hljs-attr">"Question"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"\"Stadium of Light\" is the home stadium for which soccer team?"</span><span class="hljs-punctuation">,</span>
            <span class="hljs-attr">"Answer"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"Sunderland FC"</span><span class="hljs-punctuation">,</span>
            <span class="hljs-attr">"user"</span><span class="hljs-punctuation">:</span> <span class="hljs-number">9</span>
        <span class="hljs-punctuation">}</span><span class="hljs-punctuation">,</span>
        <span class="hljs-punctuation">{</span>
            <span class="hljs-attr">"id"</span><span class="hljs-punctuation">:</span> <span class="hljs-number">14</span><span class="hljs-punctuation">,</span>
            <span class="hljs-attr">"Question"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"Which driver has been the Formula 1 world champion for a record 7 times?"</span><span class="hljs-punctuation">,</span>
            <span class="hljs-attr">"Answer"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"Michael Schumacher"</span><span class="hljs-punctuation">,</span>
            <span class="hljs-attr">"user"</span><span class="hljs-punctuation">:</span> <span class="hljs-number">9</span>
        <span class="hljs-punctuation">}</span><span class="hljs-punctuation">,</span>
        <span class="hljs-comment">// Additional items...</span>
    <span class="hljs-punctuation">]</span>
    </code></div></div></pre><h3>2. Retrieve Quiz Data for a Specific User</h3><p><strong>Endpoint:</strong> <code>/&lt;username&gt;</code></p><p><strong>Method:</strong> <code>GET</code></p><p><strong>View:</strong> <code>get_data</code></p><p><strong>Description:</strong> This endpoint retrieves quiz data associated with a specific user, identified by the <code>username</code> provided in the URL. The data is fetched based on a one-to-many relationship between users and quiz questions.</p><p><strong>URL Parameters:</strong></p><ul><li><code>username</code> (required): The username of the user whose quiz data is to be retrieved.</li></ul><p><strong>Response Example:</strong></p><pre><div class="dark bg-gray-950 rounded-md border-[0.5px] border-token-border-medium"><div class="flex items-center relative text-token-text-secondary bg-token-main-surface-secondary px-4 py-2 text-xs font-sans justify-between rounded-t-md"><span>json</span><div class="flex items-center"><span class="" data-state="closed"></span></div></div><div class="overflow-y-auto p-4" dir="ltr"><code class="!whitespace-pre hljs language-json"><span class="hljs-punctuation">[</span>
        <span class="hljs-punctuation">{</span>
            <span class="hljs-attr">"id"</span><span class="hljs-punctuation">:</span> <span class="hljs-number">13</span><span class="hljs-punctuation">,</span>
            <span class="hljs-attr">"Question"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"\"Stadium of Light\" is the home stadium for which soccer team?"</span><span class="hljs-punctuation">,</span>
            <span class="hljs-attr">"Answer"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"Sunderland FC"</span><span class="hljs-punctuation">,</span>
            <span class="hljs-attr">"user"</span><span class="hljs-punctuation">:</span> <span class="hljs-number">9</span>
        <span class="hljs-punctuation">}</span><span class="hljs-punctuation">,</span>
        <span class="hljs-punctuation">{</span>
            <span class="hljs-attr">"id"</span><span class="hljs-punctuation">:</span> <span class="hljs-number">14</span><span class="hljs-punctuation">,</span>
            <span class="hljs-attr">"Question"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"Which driver has been the Formula 1 world champion for a record 7 times?"</span><span class="hljs-punctuation">,</span>
            <span class="hljs-attr">"Answer"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"Michael Schumacher"</span><span class="hljs-punctuation">,</span>
            <span class="hljs-attr">"user"</span><span class="hljs-punctuation">:</span> <span class="hljs-number">9</span>
        <span class="hljs-punctuation">}</span><span class="hljs-punctuation">,</span>
        <span class="hljs-comment">// Additional items...</span>
    <span class="hljs-punctuation">]</span>
    </code></div></div></pre><h3>3. Add Quiz Data for a Specific User</h3><p><strong>Endpoint:</strong> <code>/add/&lt;username&gt;</code></p><p><strong>Method:</strong> <code>POST</code></p><p><strong>View:</strong> <code>add_data</code></p><p><strong>Description:</strong> This endpoint allows adding new quiz data associated with a specific user. The <code>username</code> in the URL specifies the user to whom the data will be linked. The request body should include the quiz question and answer.</p><p><strong>URL Parameters:</strong></p><ul><li><code>username</code> (required): The username of the user to whom the quiz data will be associated.</li></ul><p><strong>Request Body Example:</strong></p><pre><div class="dark bg-gray-950 rounded-md border-[0.5px] border-token-border-medium"><div class="flex items-center relative text-token-text-secondary bg-token-main-surface-secondary px-4 py-2 text-xs font-sans justify-between rounded-t-md"><span>json</span><div class="flex items-center"><span class="" data-state="closed"></span></div></div><div class="overflow-y-auto p-4" dir="ltr"><code class="!whitespace-pre hljs language-json"><span class="hljs-punctuation">{</span>
        <span class="hljs-attr">"Question"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"What is the capital of Italy?"</span><span class="hljs-punctuation">,</span>
        <span class="hljs-attr">"Answer"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"Rome"</span>
    <span class="hljs-punctuation">}</span>
    </code></div></div></pre><p><strong>Response Example:</strong></p><ul><li><strong>Success (201 Created):</strong><pre><div class="dark bg-gray-950 rounded-md border-[0.5px] border-token-border-medium"><div class="flex items-center relative text-token-text-secondary bg-token-main-surface-secondary px-4 py-2 text-xs font-sans justify-between rounded-t-md"><span>json</span><div class="flex items-center"><span class="" data-state="closed"></span></div></div><div class="overflow-y-auto p-4" dir="ltr"><code class="!whitespace-pre hljs language-json"><span class="hljs-punctuation">{</span>
        <span class="hljs-attr">"id"</span><span class="hljs-punctuation">:</span> <span class="hljs-number">26</span><span class="hljs-punctuation">,</span>
        <span class="hljs-attr">"Question"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"What is the capital of Italy?"</span><span class="hljs-punctuation">,</span>
        <span class="hljs-attr">"Answer"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"Rome"</span><span class="hljs-punctuation">,</span>
        <span class="hljs-attr">"user"</span><span class="hljs-punctuation">:</span> <span class="hljs-number">9</span>
    <span class="hljs-punctuation">}</span>
    </code></div></div></pre></li><li><strong>Error (404 Not Found):</strong><pre><div class="dark bg-gray-950 rounded-md border-[0.5px] border-token-border-medium"><div class="flex items-center relative text-token-text-secondary bg-token-main-surface-secondary px-4 py-2 text-xs font-sans justify-between rounded-t-md"><span>json</span><div class="flex items-center"><span class="" data-state="closed"></span></div></div><div class="overflow-y-auto p-4" dir="ltr"><code class="!whitespace-pre hljs language-json"><span class="hljs-punctuation">{</span>
        <span class="hljs-attr">"error"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"User not found"</span>
    <span class="hljs-punctuation">}</span>
    </code></div></div></pre></li><li><strong>Error (400 Bad Request):</strong><pre><div class="dark bg-gray-950 rounded-md border-[0.5px] border-token-border-medium"><div class="flex items-center relative text-token-text-secondary bg-token-main-surface-secondary px-4 py-2 text-xs font-sans justify-between rounded-t-md"><span>json</span><div class="flex items-center"><span class="" data-state="closed"></span></div></div><div class="overflow-y-auto p-4" dir="ltr"><code class="!whitespace-pre hljs language-json"><span class="hljs-punctuation">{</span>
        <span class="hljs-attr">"Question"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">[</span><span class="hljs-string">"This field is required."</span><span class="hljs-punctuation">]</span><span class="hljs-punctuation">,</span>
        <span class="hljs-attr">"Answer"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">[</span><span class="hljs-string">"This field is required."</span><span class="hljs-punctuation">]</span>
    <span class="hljs-punctuation">}</span>
    </code></div></div></pre></li></ul><h2>URL Patterns</h2><p>The API endpoints are mapped to specific URL patterns in the <code>urls.py</code> file. Below is a summary of the available routes:</p><ol><li><p><strong><code>""</code> (Empty Path)</strong>:</p><ul><li><strong>URL:</strong> <code>/</code></li><li><strong>View:</strong> <code>get_data</code></li><li><strong>Name:</strong> <code>api_main</code></li><li><strong>Description:</strong> Retrieve all quiz data.</li></ul></li><li><p><strong><code>"&lt;slug:name&gt;"</code></strong>:</p><ul><li><strong>URL:</strong> <code>/&lt;username&gt;</code></li><li><strong>View:</strong> <code>get_data</code></li><li><strong>Name:</strong> <code>api_view</code></li><li><strong>Description:</strong> Retrieve quiz data for a specific user identified by <code>username</code>.</li></ul></li><li><p><strong><code>"add/&lt;slug:name&gt;"</code></strong>:</p><ul><li><strong>URL:</strong> <code>/add/&lt;username&gt;</code></li><li><strong>View:</strong> <code>add_data</code></li><li><strong>Name:</strong> <code>adding</code></li><li><strong>Description:</strong> Add new quiz data for a specific user identified by <code>username</code>.</li></ul></li></ol><h2>Models</h2><ul><li><strong><code>OldQuestions</code></strong>: A model representing quiz questions and answers associated with users.</li><li><strong><code>User</code></strong>: The Django <code>User</code> model representing users in the system.</li></ul><h2>Serializers</h2><ul><li><strong><code>ItemSerializer</code></strong>: Used to serialize and validate data for the <code>OldQuestions</code> model.</li></ul><h2>Summary</h2><p>This API provides a simple interface for retrieving and managing quiz data associated with specific users. The endpoints allow for user-specific queries and data submissions, with appropriate error handling for invalid requests.</p></div></div>
</div>
{% endblock %}